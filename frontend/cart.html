<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cart — Delux Perfumes</title>

  <!-- Fonts & Icons (same as your main site) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400;1,600&family=Outfit:wght@300;400;600&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer"/>

  <!-- Your main stylesheet -->
  <link rel="stylesheet" href="styles.css" />

  <style>
    /* Small page-specific overrides to ensure cart layout looks good */
    .cart-page {
      padding: 6rem 0;
      background: var(--off-white);
      min-height: 80vh;
      font-family: var(--font-body);
      color: var(--dark);
    }

    .cart-container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 var(--spacing-md);
      display: grid;
      grid-template-columns: 1fr 360px;
      gap: var(--spacing-xl);
    }

    /* Cart list */
    .cart-list {
      background: var(--white);
      padding: var(--spacing-lg);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-sm);
    }

    .cart-item {
      display: flex;
      gap: var(--spacing-md);
      padding: var(--spacing-md) 0;
      border-bottom: 1px dashed rgba(0,0,0,0.05);
      align-items: center;
    }

    .cart-item:last-child {
      border-bottom: 0;
    }

    .cart-item-img {
      width: 110px;
      height: 110px;
      background-size: cover;
      background-position: center;
      border-radius: 8px;
      flex-shrink: 0;
      border: 1px solid rgba(0,0,0,0.04);
    }

    .cart-item-info {
      flex: 1;
    }

    .cart-item-name {
      font-family: var(--font-heading);
      font-size: 1.05rem;
      margin-bottom: 6px;
    }

    .cart-item-meta {
      color: var(--medium-gray);
      font-size: 0.95rem;
      margin-bottom: 10px;
    }

    .cart-qty {
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .qty-btn {
      width: 30px;
      height: 30px;
      display: inline-grid;
      place-items: center;
      border-radius: 6px;
      background: var(--light-gray);
      cursor: pointer;
      user-select: none;
    }

    .qty-input {
      width: 44px;
      text-align: center;
      padding: 6px 8px;
      border-radius: 6px;
      border: 1px solid #e6e6e6;
      font-size: 0.95rem;
      background: transparent;
    }

    .cart-item-price {
      font-weight: 600;
      font-size: 1rem;
      min-width: 90px;
      text-align: right;
    }

    .cart-item-actions {
      margin-top: 8px;
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .remove-btn {
      background: transparent;
      border: none;
      color: var(--medium-gray);
      cursor: pointer;
    }

    /* Summary */
    .cart-summary {
      background: linear-gradient(180deg, var(--white), #fbfaf9);
      padding: var(--spacing-lg);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-sm);
      height: fit-content;
    }

    .summary-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 0;
      border-bottom: 1px solid rgba(0,0,0,0.03);
    }

    .summary-row:last-child {
      border-bottom: 0;
    }

    .summary-total {
      font-size: 1.15rem;
      font-weight: 700;
      color: var(--dark);
    }

    .coupon {
      margin-top: var(--spacing-md);
      display: flex;
      gap: 8px;
    }

    .coupon input {
      flex: 1;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #e6e6e6;
      background: transparent;
    }

    .coupon button {
      padding: 10px 14px;
      border-radius: 6px;
      border: none;
      background: var(--primary);
      color: var(--white);
      cursor: pointer;
    }

    .checkout-btn {
      display: block;
      width: 100%;
      margin-top: var(--spacing-lg);
      padding: 12px 18px;
      border-radius: 8px;
      border: none;
      background: var(--primary);
      color: var(--white);
      font-weight: 600;
      cursor: pointer;
      font-size: 1rem;
    }

    .empty-cart {
      text-align: center;
      padding: var(--spacing-lg);
      color: var(--medium-gray);
    }

    @media (max-width: 980px) {
      .cart-container {
        grid-template-columns: 1fr;
      }
      .cart-item-img {
        width: 90px; height: 90px;
      }
    }
  </style>
</head>
<body>
  <!-- Header (simplified, reuse your header in main site) -->
  <header class="header">
    <div class="container">
      <nav class="navbar">
        <a href="index.html" class="logo">DELUX</a>

        <ul class="nav-menu">
          <li><a href="index.html#home" class="nav-link">Home</a></li>
          <li><a href="index.html#about" class="nav-link">About</a></li>
          <li><a href="index.html#collections" class="nav-link">Collections</a></li>
          <li><a href="index.html#offers" class="nav-link">Offers</a></li>
          <li><a href="index.html#contact" class="nav-link">Contact</a></li>
        </ul>

        <div class="nav-buttons">
          <a href="javascript:void(0);" class="nav-icon" id="searchBtn"><i class="fas fa-search"></i></a>
          <a href="cart.html" class="nav-icon" title="My Cart">
            <i class="fas fa-shopping-cart"></i>
            <span class="cart-count" id="headerCartCount">3</span>
          </a>
          <a href="#login" class="nav-icon user-icon" title="Login / Signup"><i class="fas fa-user"></i></a>
        </div>
      </nav>
    </div>
  </header>

  <!-- Cart Page -->
  <main class="cart-page">
    <div class="container cart-container">
      <!-- Cart list -->
      <div class="cart-list" id="cartList">
        <h2 style="margin-bottom: var(--spacing-md); font-family:var(--font-heading);">Your Cart</h2>

        <!-- Cart items: data-id used by JS -->
        <div class="cart-item" data-id="p1" data-price="199">
          <div class="cart-item-img" style="background-image:url('Images/best1.jpg')"></div>
          <div class="cart-item-info">
            <div class="cart-item-name">Velvet Bloom</div>
            <div class="cart-item-meta">50ml — For Her</div>
            <div class="cart-item-actions">
              <div class="cart-qty" aria-label="Quantity selector">
                <div class="qty-btn" data-action="decrease">–</div>
                <input class="qty-input" type="number" min="1" value="1" />
                <div class="qty-btn" data-action="increase">+</div>
              </div>
              <button class="remove-btn" aria-label="Remove item">Remove</button>
            </div>
          </div>
          <div class="cart-item-price">AED <span class="line-total">199.00</span></div>
        </div>

        <div class="cart-item" data-id="p2" data-price="249">
          <div class="cart-item-img" style="background-image:url('Images/best2.jpg')"></div>
          <div class="cart-item-info">
            <div class="cart-item-name">Golden Noir</div>
            <div class="cart-item-meta">100ml — For Him</div>
            <div class="cart-item-actions">
              <div class="cart-qty" aria-label="Quantity selector">
                <div class="qty-btn" data-action="decrease">–</div>
                <input class="qty-input" type="number" min="1" value="1" />
                <div class="qty-btn" data-action="increase">+</div>
              </div>
              <button class="remove-btn" aria-label="Remove item">Remove</button>
            </div>
          </div>
          <div class="cart-item-price">AED <span class="line-total">249.00</span></div>
        </div>

        <div class="cart-item" data-id="p3" data-price="179">
          <div class="cart-item-img" style="background-image:url('Images/best3.jpg')"></div>
          <div class="cart-item-info">
            <div class="cart-item-name">Amber Whisper</div>
            <div class="cart-item-meta">50ml — Unisex</div>
            <div class="cart-item-actions">
              <div class="cart-qty" aria-label="Quantity selector">
                <div class="qty-btn" data-action="decrease">–</div>
                <input class="qty-input" type="number" min="1" value="1" />
                <div class="qty-btn" data-action="increase">+</div>
              </div>
              <button class="remove-btn" aria-label="Remove item">Remove</button>
            </div>
          </div>
          <div class="cart-item-price">AED <span class="line-total">179.00</span></div>
        </div>

      </div>

      <!-- Summary -->
      <aside class="cart-summary" id="cartSummary">
        <h3 style="margin-bottom: var(--spacing-md); font-family:var(--font-heading);">Order Summary</h3>

        <div class="summary-row">
          <div>Subtotal</div>
          <div>AED <span id="subtotal">627.00</span></div>
        </div>

        <div class="summary-row">
          <div>Shipping</div>
          <div id="shipping">AED 15.00</div>
        </div>

        <div class="summary-row">
          <div>Discount</div>
          <div id="discount">AED 0.00</div>
        </div>

        <div class="summary-row" style="border-top:1px solid rgba(0,0,0,0.04); padding-top:12px;">
          <div class="summary-total">Total</div>
          <div class="summary-total">AED <span id="total">642.00</span></div>
        </div>

        <div class="coupon">
          <input id="couponInput" type="text" placeholder="Coupon code (e.g. DELUX20)"/>
          <button id="applyCoupon">Apply</button>
        </div>

        <button class="checkout-btn" id="checkoutBtn">Proceed to Checkout</button>

        <div style="margin-top:12px; font-size:0.95rem; color:var(--medium-gray);">
          Secure checkout • Free returns within 14 days
        </div>
      </aside>
    </div>
  </main>

  <!-- Footer (re-use your footer) -->
  <footer class="footer">
    <div class="container">
      <div style="text-align:center; padding: 2rem 0; color:var(--medium-gray)">
        &copy; 2025 Delux Perfumes. All rights reserved.
      </div>
    </div>
  </footer>

  <!-- Page JS: quantity, totals, remove, coupon -->
  <script>
    (function () {
      const cartList = document.getElementById('cartList');
      const headerCount = document.getElementById('headerCartCount');
      const subtotalEl = document.getElementById('subtotal');
      const shippingEl = document.getElementById('shipping');
      const discountEl = document.getElementById('discount');
      const totalEl = document.getElementById('total');
      const applyCouponBtn = document.getElementById('applyCoupon');
      const couponInput = document.getElementById('couponInput');

      const SHIPPING = 15; // AED
      let discount = 0;
      let couponApplied = false;

      function format(n) {
        return Number(n).toFixed(2);
      }

      function updateLineTotal(itemEl) {
        const price = parseFloat(itemEl.dataset.price || 0);
        const qtyInput = itemEl.querySelector('.qty-input');
        let qty = parseInt(qtyInput.value, 10) || 1;
        if (qty < 1) qty = 1;
        qtyInput.value = qty;
        const lineTotal = price * qty;
        itemEl.querySelector('.line-total').textContent = format(lineTotal);
      }

      function recalcTotals() {
        const items = cartList.querySelectorAll('.cart-item');
        let subtotal = 0;
        let totalCount = 0;
        items.forEach(it => {
          const price = parseFloat(it.dataset.price || 0);
          const qty = parseInt(it.querySelector('.qty-input').value, 10) || 1;
          subtotal += price * qty;
          totalCount += qty;
        });

        if (couponApplied) {
          // sample coupon: DELUX20 -> 20% off
          discount = Math.round(subtotal * 0.20 * 100) / 100;
        } else {
          discount = 0;
        }

        const total = subtotal + SHIPPING - discount;

        subtotalEl.textContent = format(subtotal);
        shippingEl.textContent = 'AED ' + format(SHIPPING);
        discountEl.textContent = 'AED ' + format(discount);
        totalEl.textContent = format(total);

        headerCount.textContent = totalCount;
      }

      // initialize
      function init() {
        const items = cartList.querySelectorAll('.cart-item');
        items.forEach(item => {
          updateLineTotal(item);

          // qty buttons
          item.querySelectorAll('.qty-btn').forEach(btn => {
            btn.addEventListener('click', () => {
              const action = btn.dataset.action;
              const input = item.querySelector('.qty-input');
              let val = parseInt(input.value, 10) || 1;
              if (action === 'increase') val++;
              else val = Math.max(1, val - 1);
              input.value = val;
              updateLineTotal(item);
              recalcTotals();
            });
          });

          // qty input changes
          item.querySelector('.qty-input').addEventListener('change', () => {
            updateLineTotal(item);
            recalcTotals();
          });

          // remove button
          item.querySelector('.remove-btn').addEventListener('click', () => {
            item.remove();
            recalcTotals();
          });
        });

        // coupon
        applyCouponBtn.addEventListener('click', () => {
          const code = couponInput.value.trim().toUpperCase();
          if (!code) return alert('Enter a coupon code.');
          if (code === 'DELUX20' && !couponApplied) {
            couponApplied = true;
            recalcTotals();
            alert('Coupon applied: 20% off');
          } else if (couponApplied) {
            alert('Coupon already applied.');
          } else {
            alert('Invalid coupon code.');
          }
        });

        // checkout (placeholder)
        document.getElementById('checkoutBtn').addEventListener('click', () => {
          // Replace with real checkout flow
          alert('Proceeding to checkout — implement your checkout flow here.');
        });

        recalcTotals();
      }

      document.addEventListener('DOMContentLoaded', init);
    })();
  </script>
</body>
</html>

